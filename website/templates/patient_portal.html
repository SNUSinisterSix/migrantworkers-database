<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patient Portal - User Details</title>
  <link rel="stylesheet" href="{{url_for('static', filename='patient-portal.css')}}">
  <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="portal-container">
    <h2>Patient Portal</h2>
    
    <div class="profile-card">
      <div class="profile-header">
        <img src="{{ url_for('static', filename='Sinister_Six.jpg') }}" alt="User Photo" class="profile-img">
        <div class="profile-data">
          <h3 id="user-name">{{ username }}</h3>
          <p id="user-role">Patient</p>
        </div>
      </div>
      
      <div class="details-grid">
        <div class="detail-item">
          <span class="label">Email:</span>
          <span id="user-email">{{ patients[3] }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Gender:</span>
          <span id="user-gender">{{ patients[5] }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Phone:</span>
          <span id="user-phone">{{ patients[4] }}</span>
        </div>
        <div class="detail-item">
          <span class="label">Address:</span>
          <span id="user-address">Kochi, Kerala</span>
        </div>
        <div class="detail-item">
          <span class="label">Health ID:</span>
          <span id="user-healthid">{{ '%08d' % patients[0]}}</span>
        </div>
        <div class="detail-item">
          <span class="label">Insurance Provider:</span>
          <span id="user-insurance">{{ patients[6] }}</span>
        </div>
      </div>
    </div>
    
    <div class="btn-container">
      <a href="/patient" class="action-btn">Edit Details</a>
      <a href="/logout" class="logout-btn">Logout</a>
    </div>
  </div>
  <div class="prescriptions-container">
      <h2>Prescriptions</h2>
      <table class="prescription-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Specialty</th>
          <th>Date</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for prescription in prescriptions %}
        <tr>
          <td>{{ prescription[0] }}</td>
          <td>{{ prescription[1] }}</td>
          <td>{{ prescription[2] }}</td>
          {% if prescription[3] == 'Active' %}
            <td><span class="prescription-active">Active</span></td>
          {% else %}
            <td><span class="prescription-expired">Expired</span></td>
          {% endif %}
          <td>
            <button class="prescription-button">Download PDF</button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
      </table>
  </div>
  <div class="vitals-container">
    <h2>Log vitals</h2>
    <p>Regularly logging your vitals helps your doctor track your progress.</p><br>
    <div class="input-grid">
      <div class="input-group">
        <label for="blood-pressure">Blood Pressure (e.g., 120/80)</label>
        <input type="text" id="blood-pressure" name="pressure" required>
      </div>
    
      <div class="input-group">
        <label for="blood-sugar">Blood Sugar (mg/dL)</label>
        <input type="text" id="blood-sugar" name="sugar" required>
      </div>

      <div class="input-group">
        <label for="temperature">Temperature (Â°C)</label>
        <input type="text" id="temperature" name="temperature" required>
      </div>

      <div class="input-group">
        <label for="oxygen-saturation">Oxygen Saturation (%)</p>
        <input type="text" id="oxygen-saturation" name="oxygen" required>
      </div>
    </div><br>
    <button class="vitals-btn">Log Vitals</button>
  </div>
</body>
</html>
